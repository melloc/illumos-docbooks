<chapter xml:id="modsetup-43877">
<title>Setting Up Terminals and Modems (Tasks)</title>
<para>This chapter provides step-by-step instructions for setting up terminals and modems using Solaris Management Console's Serial Ports tool.</para>
<para>For overview information about terminals and modems, see <xref linkend="modconcepts-20809" />. For overview information about managing system resources,
see <xref linkend="sysresconcepts-23051" />.</para>
<para>For information about the procedures associated with setting up terminals
and modems using Solaris Management Console's Serial Ports tool, see <xref linkend="enmwp" /></para>
<sect1 xml:id="enmwp">
<title>Setting Terminals and Modems (Task Map)</title>
<informaltable frame="all"><tgroup cols="3" colsep="1" rowsep="1"><colspec colwidth="33*"/><colspec colwidth="33*"/><colspec colwidth="33*"/><thead><row><entry><para>Task</para>
</entry><entry><para>Description</para>
</entry><entry><para>For Instructions</para>
</entry>
</row>
</thead><tbody><row><entry><para>Set up a terminal.</para>
</entry><entry><para>Set up a terminal by using the Solaris Management Console Serial Ports
tool. Configure the terminal by choosing the appropriate option from the Action
menu.</para>
</entry><entry><para><xref linkend="modsetup-89727" /></para>
</entry>
</row><row><entry><para>Set up a modem.</para>
</entry><entry><para>Set up a modem by using the Solaris Management Console Serial Ports
tool. Configure the modem by choosing the appropriate option from the Action
menu.</para>
</entry><entry><para><xref linkend="modsetup-14907" /></para>
</entry>
</row><row><entry><para>Initialize a port.</para>
</entry><entry><para>To initialize a port, use the Solaris Management Console Serial Ports
tool. Choose the appropriate option from the Action menu.</para>
</entry><entry><para><xref linkend="modsetup-59368" /></para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1><sect1 xml:id="modsetup-1"><title>Setting Up Terminals and Modems With Serial
Ports Tool (Overview)</title><para>You can set up serial ports with the Solaris Management Console's Serial
Ports tool. </para>
<itemizedlist>
	<para>Select a serial port from the Serial Ports window and then choose a Configure option from the Action menu to configure the following:</para>
	<listitem><para>Terminal</para></listitem>
	<listitem><para>Modem &ndash; Dial&ndash;In</para></listitem>
	<listitem><para>Modem &ndash; Dial&ndash;Out</para></listitem>
	<listitem><para>Modem &ndash; Dial&ndash;In/Dial&ndash;Out</para></listitem>
	<listitem><para>Initialize Only &ndash; No Connection</para></listitem>
</itemizedlist>
<para>The Configure options provide access to the templates for configuring
these services. You can view two levels of detail for each serial port: Basic
and Advanced. You can access the Advanced level of detail for each serial
port after it is configured by selecting the serial port and selecting the
Properties option from the Action menu. After a serial port is configured,
you can disable or enable the port with the SAF commands. For information
on using the SAF commands, see <xref linkend="modsafapp-84569" />.</para>
<para>For information on using the Serial Ports command&ndash;line interface, see the <citerefentry><refentrytitle>smserialport</refentrytitle><manvolnum>1M</manvolnum></citerefentry> man page.</para>
<sect2 xml:id="modsetup-2">
<title>Setting Up Terminals</title>
<para>The following table describes the menu items (and their default values) when you set up a terminal by using the Serial Ports tool. </para>
<table frame="topbot" xml:id="modsetup-24857">
<title>Terminal Default Values</title>
<tgroup cols="3" colsep="0" rowsep="0">
<colspec colname="column1" colwidth="72*"/>
<colspec colname="column2" colwidth="145*"/>
<colspec colname="column3" colwidth="145*"/>
<thead>
<row rowsep="1">
<entry><para>Detail</para></entry>
<entry><para>Item</para></entry>
<entry><para>Default Value</para></entry>
</row>
</thead><tbody><row><entry><para>Basic</para>
</entry><entry><para>Port</para>
</entry><entry><para>&mdash;</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Description</para>
</entry><entry><para>Terminal</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Service Status</para>
</entry><entry><para>Enabled</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Baud Rate</para>
</entry><entry><para><literal>9600</literal></para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Terminal Type</para>
</entry><entry><para><literal>vi925</literal></para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Login Prompt</para>
</entry><entry><para><literal>ttyn login:</literal></para>
</entry>
</row><row><entry><para>Advanced</para>
</entry><entry><para>Carrier Detection</para>
</entry><entry><para>Software</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Connect on Carrier</para>
</entry><entry><para>Not available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Bidirectional</para>
</entry><entry><para>Available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Initialize Only</para>
</entry><entry><para>Not available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Timeout (seconds)</para>
</entry><entry><para>Never</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Port Monitor</para>
</entry><entry><para><literal>zsmon</literal></para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Service Program</para>
</entry><entry><para><filename>/usr/bin/login</filename></para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2><sect2 xml:id="modsetup-3"><title>Setting Up Modems</title><para>The following table describes
the three modem templates that are available when you set up a modem using
the Serial Ports tool.</para><table frame="topbot" xml:id="modsetup-39788"><title>Modem Templates</title><tgroup cols="2" colsep="0" rowsep="0"><colspec colname="column1" colwidth="132*"/><colspec colname="column2" colwidth="230*"/><thead><row rowsep="1"><entry><para>Modem Configuration</para>
</entry><entry><para>Description</para>
</entry>
</row>
</thead><tbody><row><entry><para>Dial-In Only</para>
</entry><entry><para>Users can dial in to the modem but cannot dial out.</para>
</entry>
</row><row><entry><para>Dial-Out Only</para>
</entry><entry><para>Users can dial out from the modem but cannot dial in.</para>
</entry>
</row><row><entry><para>Dial-In and Out (Bidirectional)</para>
</entry><entry><para>Users can either dial in or dial out from the modem.</para>
</entry>
</row>
</tbody>
</tgroup>
</table><para>The following table describes the default values of each template.</para><table frame="topbot" pgwide="1" xml:id="modsetup-72112"><title>Modem Template
Default Values</title><tgroup cols="5" colsep="0" rowsep="0"><colspec colname="column1" colwidth="53.00*"/><colspec colname="column2" colwidth="68.60*"/><colspec colname="column3" colwidth="85.20*"/><colspec colname="column4" colwidth="75.74*"/><colspec colname="column5" colwidth="84.47*"/><thead><row rowsep="1"><entry><para>Detail</para>
</entry><entry><para>Item</para>
</entry><entry><para>Modem - Dial-In Only</para>
</entry><entry><para>Modem - Dial-Out Only</para>
</entry><entry><para>Modem - Dial In and Out</para>
</entry>
</row>
</thead><tbody><row><entry><para>Basic</para>
</entry><entry><para>Port Name</para>
</entry><entry><para>&mdash;</para>
</entry><entry><para>&mdash;</para>
</entry><entry><para>&mdash;</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Description</para>
</entry><entry><para>Modem &ndash; Dial In Only</para>
</entry><entry><para>Modem &ndash; Dial Out Only</para>
</entry><entry><para>Modem &ndash; Dial In and Out</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Service Status</para>
</entry><entry><para>Enabled</para>
</entry><entry><para>Enabled</para>
</entry><entry><para>Enabled</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Baud Rate</para>
</entry><entry><para>9600</para>
</entry><entry><para><literal>9600</literal></para>
</entry><entry><para><literal>9600</literal></para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Login Prompt</para>
</entry><entry><para><literal>ttyn login:</literal></para>
</entry><entry><para><literal>ttyn login:</literal></para>
</entry><entry><para><literal>ttyn login:</literal></para>
</entry>
</row><row><entry><para>Advanced</para>
</entry><entry><para>Carrier Detection</para>
</entry><entry><para>Software</para>
</entry><entry><para>Software</para>
</entry><entry><para>Software</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Connect on Carrier</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Not available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Bidirectional</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Initialize Only</para>
</entry><entry><para>Not available</para>
</entry><entry><para>Available</para>
</entry><entry><para>Not available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Timeout (seconds)</para>
</entry><entry><para>Never</para>
</entry><entry><para>Never</para>
</entry><entry><para>Never</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Port Monitor</para>
</entry><entry><para><literal>zsmon</literal></para>
</entry><entry><para><literal>zsmon</literal></para>
</entry><entry><para><literal>zsmon</literal></para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Service Program</para>
</entry><entry><para><filename>/usr/bin/login</filename></para>
</entry><entry><para><filename>/usr/bin/login</filename></para>
</entry><entry><para><filename>/usr/bin/login</filename></para>
</entry>
</row>
</tbody>
</tgroup>
</table><para>The following table describes the default values for the Initialize
Only template.</para><table frame="topbot" xml:id="modsetup-49037"><title>Initialize Only - No Connection
Default Values</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colname="column1" colwidth="49*"/><colspec colname="column2" colwidth="150*"/><colspec colname="column3" colwidth="163*"/><thead><row rowsep="1"><entry><para>Detail</para>
</entry><entry><para>Item</para>
</entry><entry><para>Default Value</para>
</entry>
</row>
</thead><tbody><row><entry><para>Basic</para>
</entry><entry><para>Port Name</para>
</entry><entry><para>&mdash;</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Description </para>
</entry><entry><para>Initialize Only - No Connection</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Service Status</para>
</entry><entry><para>Enabled</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Baud Rate</para>
</entry><entry><para>9600</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Login Prompt</para>
</entry><entry><para><literal>ttyn login:</literal></para>
</entry>
</row><row><entry><para>Advanced</para>
</entry><entry><para>Carrier Detection</para>
</entry><entry><para>Software</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Connect on Carrier</para>
</entry><entry><para>Not available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Bidirectional</para>
</entry><entry><para>Available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Option: Initialize Only</para>
</entry><entry><para>Available</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Timeout (seconds)</para>
</entry><entry><para>Never</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Port Monitor</para>
</entry><entry><para><literal>zsmon</literal></para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Service Program</para>
</entry><entry><para><filename>/usr/bin/login</filename></para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2>
</sect1><sect1 xml:id="emqzy"><title>How to Set Up a Terminal, a Modem, and Initialize
a Port (Tasks)</title><task xml:id="modsetup-89727"><title>How to Set Up a Terminal</title><procedure><step xml:id="modsetup-step-1"><para>Start the Solaris Management Console, if
it's not already running.</para><screen>% <userinput>/usr/sadm/bin/smc &amp;</userinput></screen><para>For information on starting the Solaris Management Console, see <olink targetdoc="sysadv1" targetptr="smcover-18" remap="external"><citetitle remap="section">Starting the Solaris Management Console</citetitle> in <citetitle remap="book">System Administration Guide: Basic Administration</citetitle></olink>.</para>
</step><step xml:id="modsetup-step-80"><para>Click This Computer icon in the Navigation
pane.</para>
</step><step xml:id="modsetup-step-59"><para>Click Devices and Hardware &mdash;>Serial
Ports.</para><para>The Serial Ports menu is displayed.</para>
</step><step xml:id="modsetup-step-2"><para>Select the port that will be used with a
terminal.</para>
</step><step xml:id="modsetup-step-3"><para>Choose Configure&mdash;>Terminal from the
Action menu.</para><para>The Configure Serial Port window is displayed in
Basic Detail mode.</para><para>For a description of the Terminal menu items,
see <xref linkend="modsetup-24857" />.</para>
</step><step xml:id="modsetup-step-23"><para>Click OK.</para>
</step><step xml:id="modsetup-step-4"><para>To configure the advanced items, select the
port configured as a terminal. Then, select Properties from the Action menu.</para>
</step><step xml:id="modsetup-step-5"><para>Change the values of template entries, if
desired.</para>
</step><step xml:id="modsetup-step-6"><para>Click OK to configure the port.</para>
</step><step xml:id="modsetup-step-67"><para>Verify that the terminal service has been
added.</para><screen>$ <userinput>pmadm -l -s tty</userinput><replaceable>n</replaceable></screen>
</step>
</procedure>
</task><task xml:id="modsetup-14907"><title>How to Set Up a Modem</title><procedure><step xml:id="modsetup-step-7"><para>Start the Solaris Management Console, if
it's not already running. </para><screen>% <userinput>/usr/sadm/bin/smc &amp;</userinput></screen><para>For information on starting the Solaris Management Console, see <olink targetdoc="sysadv1" targetptr="smcover-18" remap="external"><citetitle remap="section">Starting the Solaris Management Console</citetitle> in <citetitle remap="book">System Administration Guide: Basic Administration</citetitle></olink>.</para>
</step><step xml:id="modsetup-step-21"><para>Click This Computer icon in the Navigation
pane.</para>
</step><step xml:id="modsetup-step-20"><para>Click Devices and Hardware&mdash;>Serial
Ports.</para><para>The Serial Ports menu is displayed.</para>
</step><step xml:id="modsetup-step-11"><para>Select the port that will be used with a
modem.</para>
</step><step xml:id="modsetup-step-12"><para>Choose one of the following Configure options
from the Action menu.</para><substeps><step><para>Configure&mdash;>Modem (Dial In)</para>
</step><step xml:id="modsetup-step-82"><para>Configure&mdash;>Modem (Dial Out)</para>
</step><step xml:id="modsetup-step-83"><para>Configure&mdash;>Modem (Dial In/Out)</para>
</step>
</substeps><para>The Configure Serial Port window is displayed in Basic Detail mode.</para><para>For a description of the Modem menu items, see <xref linkend="modsetup-72112" />.</para>
</step><step xml:id="modsetup-step-22"><para>Click OK.</para>
</step><step xml:id="modsetup-step-13"><para>To configure the advanced items, select
the port configured as a modem. Then, select Properties from the Action menu.</para>
</step><step xml:id="modsetup-step-14"><para>Change the values of template entries, if
desired.</para>
</step><step xml:id="modsetup-step-15"><para>Click OK to configure the port.</para>
</step><step xml:id="modsetup-step-24"><para>Verify that the modem service has been configured.</para><screen>$ <userinput>pmadm -l -s tty</userinput><replaceable>n</replaceable></screen>
</step>
</procedure>
</task><task xml:id="modsetup-59368"><title>How to Initialize a Port</title><procedure><step xml:id="modsetup-step-10"><para>Start the Solaris Management Console, if
it's not already running. </para><screen>% <userinput>/usr/sadm/bin/smc &amp;</userinput></screen><para>For information on starting the Solaris Management Console, see <olink targetdoc="sysadv1" targetptr="smcover-18" remap="external"><citetitle remap="section">Starting the Solaris Management Console</citetitle> in <citetitle remap="book">System Administration Guide: Basic Administration</citetitle></olink>.</para>
</step><step xml:id="modsetup-step-25"><para>Click This Computer icon in the Navigation
pane.</para>
</step><step xml:id="modsetup-step-19"><para>Click Devices and Hardware&mdash;>Serial
Ports.</para><para>The Serial Ports menu is displayed.</para>
</step><step xml:id="modsetup-step-8"><para>Select the port to be initialized.</para>
</step><step xml:id="modsetup-step-40"><para>Choose Configure&mdash;>Initialize Only &ndash;
No Connection</para><para>The Serial Port window is displayed in Basic Detail
mode.</para><para>For a description of the Initialize Only menu items, see <xref linkend="modsetup-49037" />.</para>
</step><step xml:id="modsetup-step-42"><para>Click OK.</para>
</step><step xml:id="modsetup-step-9"><para>To configure the advanced items, select the
port configured as initialize only. Then, select Properties from the Action
menu.</para>
</step><step xml:id="modsetup-step-16"><para>Change the values of template entries, if
desired.</para>
</step><step xml:id="modsetup-step-17"><para>Click OK to configure the port.</para>
</step><step xml:id="modsetup-step-18"><para>Verify that the modem service has been initialized.</para><screen>$ <userinput>pmadm -l -s tty</userinput><replaceable>n</replaceable></screen>
</step>
</procedure>
</task>
</sect1><sect1 xml:id="modsetup-58"><title>Troubleshooting Terminal and Modem Problems</title><itemizedlist><para>If users are unable to log in over serial port lines after you have
added a terminal or modem and set up the proper services, consider the following
possible causes of failure:</para><listitem><para>Check with the user.</para><para>Malfunctions in terminals
and modem use are typically reported by a user who has failed to log in or
dial in. For this reason, begin troubleshooting by checking for a problem
on the desktop. </para><itemizedlist><para>Some common reasons for login failure include:</para><listitem><para>Login ID or password is incorrect</para>
</listitem><listitem><para>Terminal is waiting for X-ON flow control key (Control-Q)</para>
</listitem><listitem><para>Serial cable is loose or unplugged</para>
</listitem><listitem><para>Terminal configuration is incorrect</para>
</listitem><listitem><para>Terminal is shut off or otherwise has no power</para>
</listitem>
</itemizedlist>
</listitem><listitem><para>Check the terminal.</para><para>Continue to troubleshoot by
checking the configuration of the terminal or modem. Determine the proper <replaceable>ttylabel</replaceable> for communicating with the terminal or modem. Verify
that the terminal or modem settings match the <replaceable>ttylabel</replaceable> settings. </para>
</listitem><listitem><para>Check the terminal server.</para><para>If the terminal checks
out, continue to search for the source of the problem on the terminal or modem
server. Use the <command>pmadm</command> command to verify that a port monitor
has been configured to service the terminal or modem and that it has the correct <replaceable>ttylabel</replaceable> associated with it. For example:</para><screen>$ <userinput>pmadm -l -t ttymon</userinput></screen><para>Examine the <filename>/etc/ttydefs</filename> file and double&ndash;check
the label definition against the terminal configuration. Use the <command>sacadm</command>command
to check the port monitor's status. Use <command>pmadm</command> to check
the service associated with the port the terminal uses.</para>
</listitem><listitem><para>Check the serial connection.</para><para>If the Service Access
Controller is <emphasis>starting</emphasis> the TTY port monitor <emphasis>and</emphasis> the
following is true:</para><itemizedlist><listitem><para>The <command>pmadm</command> command reports that the service
for the terminal's port is <emphasis>enabled</emphasis>.</para>
</listitem><listitem><para>The terminal's configuration matches the port monitor's configuration.</para>
</listitem>
</itemizedlist><para>Then, continue to search for the problem by checking the serial connection.
A serial connection comprises serial ports, cables, and terminals. Test each
of these parts by using one part with two other parts that are known to be
reliable.</para><itemizedlist><para>Test all of the following:</para><listitem><para>Serial ports</para>
</listitem><listitem><para>Modems</para>
</listitem><listitem><para>Cables</para>
</listitem><listitem><para>Connectors</para>
</listitem>
</itemizedlist>
</listitem><listitem><para>Do not use the Serial Ports tool to modify serial port settings
if the serial port is being used as a console. Starting with the Solaris 10
release, invocations of <command>ttymon</command> for the console are managed
by SMF. For step-by-step instructions on how to change the console terminal
type, see <xref linkend="fdzue" />.</para>
</listitem>
</itemizedlist><para>For more information on <command>ttymon</command> and SMF, see <xref linkend="fqvaj" />.</para>
</sect1>
</chapter>
